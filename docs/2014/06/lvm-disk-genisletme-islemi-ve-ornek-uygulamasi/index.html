<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <script type="application/ld+json">

{  
  "@context":"http://schema.org",
  "@type":"Website",
  "@id":"https:\/\/www.gokhanmankara.com",
  "author": {
    "@type": "Person",
    "name": "Gökhan MANKARA",
    
    "image": "https://www.gravatar.com/avatar/d5d65b23744b836690ba8e789bbf1656"
    
  },
  "name":"Gökhan MANKARA",
  "description":"LVM (Logical Volume Manager), mantıksal hacim yönetimi olarak çevirebileceğimiz, sistem üzerinde disk kümesi yada kümeleri oluşturmaya olanak sağlayan bir disk yönetim sistemidir. LVM kullanarak mevcut disk sistemi üzerinde online olarak yeniden boyutlandırmaya olanak sağlamaktadır.\nEğer sisteminiz default ayarlar ile kurulum yapıldıysa, disk yapınız büyük olasılıkla LVM ile yapılandırılmıştır. Bir çok dağıtım default olarak LVM disk yapısını kullanmaktadır.\nLVM olarak yapılandırılmış bir sunucuda disk alanını genişletmek için nasıl bir yöntem izlenmesi gerektiğine bakacağız.",
  "url":"https:\/\/www.gokhanmankara.com\/2014\/06\/lvm-disk-genisletme-islemi-ve-ornek-uygulamasi\/",
  "keywords":"[]"
}

</script>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.88.1 with theme Tranquilpeak 0.5.3-BETA">
<meta name="author" content="Gökhan MANKARA">
<meta name="keywords" content="">
<meta name="description" content="LVM (Logical Volume Manager), mantıksal hacim yönetimi olarak çevirebileceğimiz, sistem üzerinde disk kümesi yada kümeleri oluşturmaya olanak sağlayan bir disk yönetim sistemidir. LVM kullanarak mevcut disk sistemi üzerinde online olarak yeniden boyutlandırmaya olanak sağlamaktadır.
Eğer sisteminiz default ayarlar ile kurulum yapıldıysa, disk yapınız büyük olasılıkla LVM ile yapılandırılmıştır. Bir çok dağıtım default olarak LVM disk yapısını kullanmaktadır.
LVM olarak yapılandırılmış bir sunucuda disk alanını genişletmek için nasıl bir yöntem izlenmesi gerektiğine bakacağız.">


<meta property="og:description" content="LVM (Logical Volume Manager), mantıksal hacim yönetimi olarak çevirebileceğimiz, sistem üzerinde disk kümesi yada kümeleri oluşturmaya olanak sağlayan bir disk yönetim sistemidir. LVM kullanarak mevcut disk sistemi üzerinde online olarak yeniden boyutlandırmaya olanak sağlamaktadır.
Eğer sisteminiz default ayarlar ile kurulum yapıldıysa, disk yapınız büyük olasılıkla LVM ile yapılandırılmıştır. Bir çok dağıtım default olarak LVM disk yapısını kullanmaktadır.
LVM olarak yapılandırılmış bir sunucuda disk alanını genişletmek için nasıl bir yöntem izlenmesi gerektiğine bakacağız.">
<meta property="og:type" content="article">
<meta property="og:title" content="LVM disk genişletme işlemi ve örnek uygulaması">
<meta name="twitter:title" content="LVM disk genişletme işlemi ve örnek uygulaması">
<meta property="og:url" content="https://www.gokhanmankara.com/2014/06/lvm-disk-genisletme-islemi-ve-ornek-uygulamasi/">
<meta property="twitter:url" content="https://www.gokhanmankara.com/2014/06/lvm-disk-genisletme-islemi-ve-ornek-uygulamasi/">
<meta property="og:site_name" content="Gökhan MANKARA">
<meta property="og:description" content="LVM (Logical Volume Manager), mantıksal hacim yönetimi olarak çevirebileceğimiz, sistem üzerinde disk kümesi yada kümeleri oluşturmaya olanak sağlayan bir disk yönetim sistemidir. LVM kullanarak mevcut disk sistemi üzerinde online olarak yeniden boyutlandırmaya olanak sağlamaktadır.
Eğer sisteminiz default ayarlar ile kurulum yapıldıysa, disk yapınız büyük olasılıkla LVM ile yapılandırılmıştır. Bir çok dağıtım default olarak LVM disk yapısını kullanmaktadır.
LVM olarak yapılandırılmış bir sunucuda disk alanını genişletmek için nasıl bir yöntem izlenmesi gerektiğine bakacağız.">
<meta name="twitter:description" content="LVM (Logical Volume Manager), mantıksal hacim yönetimi olarak çevirebileceğimiz, sistem üzerinde disk kümesi yada kümeleri oluşturmaya olanak sağlayan bir disk yönetim sistemidir. LVM kullanarak mevcut disk sistemi üzerinde online olarak yeniden boyutlandırmaya olanak sağlamaktadır.
Eğer sisteminiz default ayarlar ile kurulum yapıldıysa, disk yapınız büyük olasılıkla LVM ile yapılandırılmıştır. Bir çok dağıtım default olarak LVM disk yapısını kullanmaktadır.
LVM olarak yapılandırılmış bir sunucuda disk alanını genişletmek için nasıl bir yöntem izlenmesi gerektiğine bakacağız.">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2014-06-04T15:26:39">
  
  
    <meta property="article:modified_time" content="2014-06-04T15:26:39">
  
  
  
    
      <meta property="article:section" content="nix">
    
      <meta property="article:section" content="notlar">
    
  
  
    
      <meta property="article:tag" content="disk genişletme">
    
      <meta property="article:tag" content="esxi">
    
      <meta property="article:tag" content="Logical Volume">
    
      <meta property="article:tag" content="LVM">
    
      <meta property="article:tag" content="örnek uygulama">
    
      <meta property="article:tag" content="Physical Volume">
    
      <meta property="article:tag" content="sanal sunucu">
    
      <meta property="article:tag" content="Volume Group">
    
  


<meta name="twitter:card" content="summary">

  <meta name="twitter:site" content="@gokhanmankara">


  <meta name="twitter:creator" content="@gokhanmankara">






  <meta property="og:image" content="https://www.gravatar.com/avatar/d5d65b23744b836690ba8e789bbf1656?s=640">
  <meta property="twitter:image" content="https://www.gravatar.com/avatar/d5d65b23744b836690ba8e789bbf1656?s=640">






    <title>LVM disk genişletme işlemi ve örnek uygulaması</title>

    <link rel="icon" href="https://www.gokhanmankara.com/favicon.png">
    

    

    <link rel="canonical" href="https://www.gokhanmankara.com/2014/06/lvm-disk-genisletme-islemi-ve-ornek-uygulamasi/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    
    
    <link rel="stylesheet" href="https://www.gokhanmankara.com/css/style-h6ccsoet3mzkbb0wngshlfbaweimexgqcxj0h5hu4h82olsdzz6wmqdkajm.min.css" />
    
    

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-10446851-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://www.gokhanmankara.com/" aria-label="Go to homepage">Gökhan MANKARA</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://www.gokhanmankara.com/#about" aria-label="Read more about the author">
          <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/d5d65b23744b836690ba8e789bbf1656?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Gökhan MANKARA</h4>
        
          <h5 class="sidebar-profile-bio">Golang, Python, Blogger, Linux Fan</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.gokhanmankara.com/" title="Home">
    
      <i class="sidebar-button-icon fas fa-lg fa-home" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.gokhanmankara.com/category" title="Category">
    
      <i class="sidebar-button-icon fas fa-lg fa-bookmark" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Category</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.gokhanmankara.com/tags" title="Tags">
    
      <i class="sidebar-button-icon fas fa-lg fa-tags" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.gokhanmankara.com/archive" title="Archive">
    
      <i class="sidebar-button-icon fas fa-lg fa-archive" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Archive</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/gokhanm" target="_blank" rel="noopener" title="GitHub">
    
      <i class="sidebar-button-icon fab fa-lg fa-github" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/gokhanmankara" target="_blank" rel="noopener" title="Twitter">
    
      <i class="sidebar-button-icon fab fa-lg fa-twitter" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.linkedin.com/in/gokhanmankara/" target="_blank" rel="noopener" title="LinkedIn">
    
      <i class="sidebar-button-icon fab fa-lg fa-linkedin-in" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">LinkedIn</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.gokhanmankara.com/about" title="About">
    
      <i class="sidebar-button-icon fas fa-lg fa-user" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.gokhanmankara.com/index.xml" title="RSS">
    
      <i class="sidebar-button-icon fas fa-lg fa-rss" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" id="top">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title">
      LVM disk genişletme işlemi ve örnek uygulaması
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2014-06-04T15:26:39&#43;03:00">
        
  
  
  
  
    2014, Jun 04
  

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.gokhanmankara.com/categories/nix">nix</a>, 
    
      <a class="category-link" href="https://www.gokhanmankara.com/categories/notlar">notlar</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown">
            <div class="main-content-wrap">
              <p><a href="http://en.wikipedia.org/wiki/Logical_Volume_Manager_(Linux)">LVM</a> (Logical Volume Manager), mantıksal hacim yönetimi olarak çevirebileceğimiz, sistem üzerinde disk kümesi yada kümeleri oluşturmaya olanak sağlayan bir disk yönetim sistemidir. LVM kullanarak mevcut disk sistemi üzerinde online olarak yeniden boyutlandırmaya olanak sağlamaktadır.</p>
<p>Eğer sisteminiz default ayarlar ile kurulum yapıldıysa, disk yapınız büyük olasılıkla LVM ile yapılandırılmıştır. Bir çok dağıtım default olarak LVM disk yapısını kullanmaktadır.</p>
<p>LVM olarak yapılandırılmış bir sunucuda disk alanını genişletmek için nasıl bir yöntem izlenmesi gerektiğine bakacağız. 16 Gb disk üzerine kurulan bir sanal sunucunun root ( / ) dizininin kapasitesini arttırarak toplamda 50 Gb  lık bir disk alanını online olarak genişletme işlemi yapacağız.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#f92672">[</span>root@test ~<span style="color:#f92672">]</span><span style="color:#75715e"># fdisk -l</span>
 
Disk /dev/sda: 17.2 GB, <span style="color:#ae81ff">17179869184</span> bytes
<span style="color:#ae81ff">255</span> heads, <span style="color:#ae81ff">63</span> sectors/track, <span style="color:#ae81ff">2088</span> cylinders
Units <span style="color:#f92672">=</span> cylinders of <span style="color:#ae81ff">16065</span> * 512 <span style="color:#f92672">=</span> <span style="color:#ae81ff">8225280</span> bytes
Sector size <span style="color:#f92672">(</span>logical/physical<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
I/O size <span style="color:#f92672">(</span>minimum/optimal<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
Disk identifier: 0x00087c1e
 
   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           <span style="color:#ae81ff">1</span>          <span style="color:#ae81ff">64</span>      <span style="color:#ae81ff">512000</span>   <span style="color:#ae81ff">83</span>  Linux
Partition <span style="color:#ae81ff">1</span> does not end on cylinder boundary.
/dev/sda2              <span style="color:#ae81ff">64</span>        <span style="color:#ae81ff">2089</span>    <span style="color:#ae81ff">16264192</span>   8e  Linux LVM
 
Disk /dev/mapper/vg_test-lv_root: 14.9 GB, <span style="color:#ae81ff">14935916544</span> bytes
<span style="color:#ae81ff">255</span> heads, <span style="color:#ae81ff">63</span> sectors/track, <span style="color:#ae81ff">1815</span> cylinders
Units <span style="color:#f92672">=</span> cylinders of <span style="color:#ae81ff">16065</span> * 512 <span style="color:#f92672">=</span> <span style="color:#ae81ff">8225280</span> bytes
Sector size <span style="color:#f92672">(</span>logical/physical<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
I/O size <span style="color:#f92672">(</span>minimum/optimal<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
Disk identifier: 0x00000000
 
 
Disk /dev/mapper/vg_test-lv_swap: <span style="color:#ae81ff">1715</span> MB, <span style="color:#ae81ff">1715470336</span> bytes
<span style="color:#ae81ff">255</span> heads, <span style="color:#ae81ff">63</span> sectors/track, <span style="color:#ae81ff">208</span> cylinders
Units <span style="color:#f92672">=</span> cylinders of <span style="color:#ae81ff">16065</span> * 512 <span style="color:#f92672">=</span> <span style="color:#ae81ff">8225280</span> bytes
Sector size <span style="color:#f92672">(</span>logical/physical<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
I/O size <span style="color:#f92672">(</span>minimum/optimal<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
Disk identifier: 0x00000000
</code></pre></div><p>Sunucumuz 16 Gb lık bir diske default LVM ile kurulum yapılmış. Bu disk kapasitesini 50 Gb a arttırıp, yaklaşık 30 Gb lık boş alanı root ( test-lv_root ) partitiona ekleyeceğiz.</p>
<p>Disk kapasite arttırma işlemini kullandığınız ESXi, XenServer yada fiziksel bir sunucuya göre yapabilirsiniz. Bu makalede ESXi 5.x de bir sanal sunucunun disk kapasitesini 16 gb dan 50 gb a aldığımızı düşünelim.</p>
<blockquote>
<p>Sanal sunucuyu yeniden başlatmadan, düzenlediğiniz yeni disk boyutunu sanal sunucuda görebilmek için aşağıdaki kodu çalıştırabilirsiniz.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">echo <span style="color:#ae81ff">1</span> &gt; /sys/block/sda/device/rescan
</code></pre></div></blockquote>
<pre tabindex="0"><code>

Toplam boyutu ayarladıktan sonra yeni disk boyutuna bakalım.

```sh
[root@test ~]# fdisk -l
 
Disk /dev/sda: 53.7 GB, 53687091200 bytes
255 heads, 63 sectors/track, 6527 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00087c1e
 
   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           1          64      512000   83  Linux
Partition 1 does not end on cylinder boundary.
/dev/sda2              64        2089    16264192   8e  Linux LVM
 
Disk /dev/mapper/vg_test-lv_root: 14.9 GB, 14935916544 bytes
255 heads, 63 sectors/track, 1815 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000
 
 
Disk /dev/mapper/vg_test-lv_swap: 1715 MB, 1715470336 bytes
255 heads, 63 sectors/track, 208 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000
</code></pre><p>Yeni disk boyutumuz 50 Gb olarak görünüyor. Yeni düzenlemeden sonra yaklaşık olarak 34 Gb lık bir alan boşta duruyor. Bunun için yapmamız gereken işlem sırasıyla, önce yeni bir disk bölümü (partition) oluşturacağız  sonra bu disk bölümü için yeni bir fiziksel volüm oluşturacağız ve bu fiziksel bölümü volume group’a dahil etmeceğiz. Sonrasında da var olan LVM yapısını yeni disk bölümünü kapsayacak şekilde genişleteceğiz.</p>
<!-- raw HTML omitted -->
<p>Fdisk ile 8e dosya sisteminde ( LVM ) bir partition oluşturuyoruz.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#75715e">#fdisk /dev/sda</span>

n <span style="color:#f92672">(</span>yeni<span style="color:#f92672">)</span>
p <span style="color:#f92672">(</span>primary<span style="color:#f92672">)</span>
<span style="color:#ae81ff">3</span> <span style="color:#f92672">(</span>sda1 ve sda2 mevcut, bu yüzden sda3 oluşturacağız.<span style="color:#f92672">)</span>
t <span style="color:#f92672">(</span>partition sistem id yi LVM <span style="color:#f92672">(</span>8e<span style="color:#f92672">)</span> olarak değiştireceğiz<span style="color:#f92672">)</span>
<span style="color:#ae81ff">3</span> <span style="color:#f92672">(</span>sda3 partition numarası<span style="color:#f92672">)</span>
8e <span style="color:#f92672">(</span> LVM <span style="color:#f92672">)</span>
p <span style="color:#f92672">(</span>partition oluşturduktan sonra işlemi yazdırmadan kontrol ediyoruz.<span style="color:#f92672">)</span>
w <span style="color:#f92672">(</span>yeni partition yazılır/kaydedilir.<span style="color:#f92672">)</span>
</code></pre></div><p>Yeni sda3 partition oluşturduktan sonra yeni fdisk çıktımıza bakalım,</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#f92672">[</span>root@test ~<span style="color:#f92672">]</span><span style="color:#75715e"># fdisk -l</span>
 
Disk /dev/sda: 53.7 GB, <span style="color:#ae81ff">53687091200</span> bytes
<span style="color:#ae81ff">255</span> heads, <span style="color:#ae81ff">63</span> sectors/track, <span style="color:#ae81ff">6527</span> cylinders
Units <span style="color:#f92672">=</span> cylinders of <span style="color:#ae81ff">16065</span> * 512 <span style="color:#f92672">=</span> <span style="color:#ae81ff">8225280</span> bytes
Sector size <span style="color:#f92672">(</span>logical/physical<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
I/O size <span style="color:#f92672">(</span>minimum/optimal<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
Disk identifier: 0x00087c1e
 
   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           <span style="color:#ae81ff">1</span>          <span style="color:#ae81ff">64</span>      <span style="color:#ae81ff">512000</span>   <span style="color:#ae81ff">83</span>  Linux
Partition <span style="color:#ae81ff">1</span> does not end on cylinder boundary.
/dev/sda2              <span style="color:#ae81ff">64</span>        <span style="color:#ae81ff">2089</span>    <span style="color:#ae81ff">16264192</span>   8e  Linux LVM
/dev/sda3            <span style="color:#ae81ff">2089</span>        <span style="color:#ae81ff">6527</span>    35650911+  8e  Linux LVM
 
Disk /dev/mapper/vg_test-lv_root: 14.9 GB, <span style="color:#ae81ff">14935916544</span> bytes
<span style="color:#ae81ff">255</span> heads, <span style="color:#ae81ff">63</span> sectors/track, <span style="color:#ae81ff">1815</span> cylinders
Units <span style="color:#f92672">=</span> cylinders of <span style="color:#ae81ff">16065</span> * 512 <span style="color:#f92672">=</span> <span style="color:#ae81ff">8225280</span> bytes
Sector size <span style="color:#f92672">(</span>logical/physical<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
I/O size <span style="color:#f92672">(</span>minimum/optimal<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
Disk identifier: 0x00000000
 
 
Disk /dev/mapper/vg_test-lv_swap: <span style="color:#ae81ff">1715</span> MB, <span style="color:#ae81ff">1715470336</span> bytes
<span style="color:#ae81ff">255</span> heads, <span style="color:#ae81ff">63</span> sectors/track, <span style="color:#ae81ff">208</span> cylinders
Units <span style="color:#f92672">=</span> cylinders of <span style="color:#ae81ff">16065</span> * 512 <span style="color:#f92672">=</span> <span style="color:#ae81ff">8225280</span> bytes
Sector size <span style="color:#f92672">(</span>logical/physical<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
I/O size <span style="color:#f92672">(</span>minimum/optimal<span style="color:#f92672">)</span>: <span style="color:#ae81ff">512</span> bytes / <span style="color:#ae81ff">512</span> bytes
Disk identifier: 0x00000000
</code></pre></div><p>Fdisk çıktımızda yeni oluşturduğumuz sda3 LVM partitionu görünüyor.  Şimdi sırada oluşturduğumuz yeni sda3 partitionı fiziksel volüme dönüştüreceğiz.</p>
<blockquote>
<p>Bundan önce sistemin partition sda3 ü tanıması için restart etmeniz gerekiyor yada aşağıdaki kodu çalıştırmalısınız.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"></code></pre></div></blockquote>
<p>$ partx -v -a /dev/sda</p>
<p>device /dev/sda: start 0 size 104857600
gpt: 0 slices
dos: 4 slices
1: 2048- 1026047 ( 1024000 sectors, 524 MB)
2: 1026048- 33554431 ( 32528384 sectors, 16654 MB)
3: 33554432-104856254 ( 71301823 sectors, 36506 MB)
4: 0- -1 ( 0 sectors, 0 MB)
BLKPG: Device or resource busy
error adding partition 1
BLKPG: Device or resource busy
error adding partition 2
added partition 3</p>
<pre tabindex="0"><code>
**added partition 3** artık yeni partition sistem tarafından tanınmış oldu. Artık fiziksel volüme olarak ekleyebiliriz.

```sh
[root@test ~]# pvcreate /dev/sda3 
  dev_is_mpath: failed to get device for 8:3
  Physical volume &quot;/dev/sda3&quot; successfully created
</code></pre><p>Oluşturduğumuz yeni fiziksel volümü, boş alan olarak volume group’a ekliyoruz.</p>
<blockquote>
<p>Test sunucusundaki volume group “vg_test” olarak adlandırılmış. Sizin sisteminizde volume group isminin ne olduğunu bilemiyor iseniz aşağıdaki komut ile volume group ismini öğrenebilirsiniz.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"></code></pre></div></blockquote>
<p>[root@rbl ~]# vgdisplay
&mdash; Volume group &mdash;
VG Name               vg_test
System ID          <br>
Format                lvm2
Metadata Areas        1
Metadata Sequence No  3
&hellip;..
Total PE              3970
Alloc PE / Size 3970 / 15.51 GiB
Free PE / Size 0 / 0</p>
<pre tabindex="0"><code>
```sh
[root@test ~]# vgextend vg_test /dev/sda3
  Volume group &quot;vg_test&quot; successfully extended
</code></pre><p>Sda3 partition alanını vg_test isimli volume group grubuna ekledik. Dikkat etti iseniz gruba eklemeden önceki vgdisplay komutunda Free PE / Size sıfır olarak görünüyor. Yani genişletme işlemi için boş disk alanımız bulunmuyor. Sda3 partitionı vg_test grubuna ekledikten sonraki vgdisplay çıktısına bakalım.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#f92672">[</span>root@rbl ~<span style="color:#f92672">]</span><span style="color:#75715e"># vgdisplay</span>
  --- Volume group ---
  VG Name               vg_test
  System ID             
  Format                lvm2
  Metadata Areas        <span style="color:#ae81ff">2</span>
  Metadata Sequence No  <span style="color:#ae81ff">4</span>
.....
  Total PE              <span style="color:#ae81ff">12673</span>
  Alloc PE / Size       <span style="color:#ae81ff">3970</span> / 15.51 GiB
  Free  PE / Size       <span style="color:#ae81ff">8703</span> / 34.00 GiB
</code></pre></div><p>Yeni vgdisplay çıktısında Free alan olarak 34 Gb boş alan görünüyor. Bu yeni boş alanı 14 gb lık root dizinini genişletmek için kullanacağız.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#f92672">[</span>root@test ~<span style="color:#f92672">]</span><span style="color:#75715e"># df -h</span>
Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/vg_test-lv_root
                       14G  1.3G   12G  10% /
tmpfs                 939M     <span style="color:#ae81ff">0</span>  939M   0% /dev/shm
/dev/sda1             485M   67M  393M  15% /boot
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#f92672">[</span>root@test ~<span style="color:#f92672">]</span><span style="color:#75715e"># lvextend -l +100%FREE /dev/mapper/vg_test-lv_root </span>
  Extending logical volume lv_root to 47.91 GiB
  Logical volume lv_root successfully resized
</code></pre></div><p>lvextend komutu ile boş  tüm ( +100%FREE ) disk alanını root dizinine ekleyerek genişlettik. Son durumdaki vgdisplay boş alanına bakalım.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#f92672">[</span>root@test ~<span style="color:#f92672">]</span><span style="color:#75715e"># vgdisplay </span>
  --- Volume group ---
  VG Name               vg_test
  System ID             
  Format                lvm2
  Metadata Areas        <span style="color:#ae81ff">2</span>
  Metadata Sequence No  <span style="color:#ae81ff">5</span>
----
 Total PE <span style="color:#ae81ff">12673</span>
 Alloc PE / Size <span style="color:#ae81ff">12673</span> / 49.50 GiB
 Free PE / Size <span style="color:#ae81ff">0</span> / <span style="color:#ae81ff">0</span>
</code></pre></div><p>lvextend komutunda tüm boş alanı kullan dediğimiz için hiç boş ( free ) disk alanı kalmadı.</p>
<p>Tekrar disk kullanım alanına bakacak olursak,</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#f92672">[</span>root@rbl ~<span style="color:#f92672">]</span><span style="color:#75715e"># df -h</span>
Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/vg_test-lv_root
                       14G  1.3G   12G  10% /
tmpfs                 939M     <span style="color:#ae81ff">0</span>  939M   0% /dev/shm
/dev/sda1             485M   67M  393M  15% /boot
</code></pre></div><p>Root dizini hala 14 gb olarak görünüyor. Bunun sebebi root dizinini resize etmediğimizden dolayıdır. Online resize işlemi için aşağıki komutu kullanıyoruz.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#f92672">[</span>root@test ~<span style="color:#f92672">]</span><span style="color:#75715e"># resize2fs -p /dev/mapper/vg_test-lv_root</span>
 
resize2fs 1.41.12 <span style="color:#f92672">(</span>17-May-2010<span style="color:#f92672">)</span>
Filesystem at /dev/mapper/vg_test-lv_root is mounted on /; on-line resizing required
old desc_blocks <span style="color:#f92672">=</span> 1, new_desc_blocks <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
Performing an on-line resize of /dev/mapper/vg_test-lv_root to <span style="color:#ae81ff">12558336</span> <span style="color:#f92672">(</span>4k<span style="color:#f92672">)</span> blocks.
The filesystem on /dev/mapper/vg_test-lv_root is now <span style="color:#ae81ff">12558336</span> blocks long.
</code></pre></div><p>Tekrar disk kullanımına baktığımızda root dizininin toplam boyutunun 48 Gb olduğu görülüyor</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#f92672">[</span>root@rbl ~<span style="color:#f92672">]</span><span style="color:#75715e"># df -h</span>
Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/vg_test-lv_root
                       48G  1.3G   44G   3% /
tmpfs                 939M     <span style="color:#ae81ff">0</span>  939M   0% /dev/shm
/dev/sda1             485M   67M  393M  15% /boot
</code></pre></div>
              


            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://www.gokhanmankara.com/tags/disk-geni%C5%9Fletme/">disk genişletme</a>

  <a class="tag tag--primary tag--small" href="https://www.gokhanmankara.com/tags/esxi/">esxi</a>

  <a class="tag tag--primary tag--small" href="https://www.gokhanmankara.com/tags/logical-volume/">Logical Volume</a>

  <a class="tag tag--primary tag--small" href="https://www.gokhanmankara.com/tags/lvm/">LVM</a>

  <a class="tag tag--primary tag--small" href="https://www.gokhanmankara.com/tags/%C3%B6rnek-uygulama/">örnek uygulama</a>

  <a class="tag tag--primary tag--small" href="https://www.gokhanmankara.com/tags/physical-volume/">Physical Volume</a>

  <a class="tag tag--primary tag--small" href="https://www.gokhanmankara.com/tags/sanal-sunucu/">sanal sunucu</a>

  <a class="tag tag--primary tag--small" href="https://www.gokhanmankara.com/tags/volume-group/">Volume Group</a>

                  </div>
                
              
            
            
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://www.gokhanmankara.com/2014/06/kucuk-notlar-ssh-ile-cift-tire-kullanimi/" data-tooltip="Küçük Notlar - Ssh Ile Çift Tire Kullanımı" aria-label="PREVIOUS: Küçük Notlar - Ssh Ile Çift Tire Kullanımı">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://www.gokhanmankara.com/2014/07/ngxtop-gercek-zamanli-nginx-log-monitorleme-araci/" data-tooltip="Ngxtop Gercek Zamanlı Nginx Log Monitorleme Aracı" aria-label="NEXT: Ngxtop Gercek Zamanlı Nginx Log Monitorleme Aracı">
          
              <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
  
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="Back to top">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


            
  


          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2022 Gökhan MANKARA. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://www.gokhanmankara.com/2014/06/kucuk-notlar-ssh-ile-cift-tire-kullanimi/" data-tooltip="Küçük Notlar - Ssh Ile Çift Tire Kullanımı" aria-label="PREVIOUS: Küçük Notlar - Ssh Ile Çift Tire Kullanımı">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://www.gokhanmankara.com/2014/07/ngxtop-gercek-zamanli-nginx-log-monitorleme-araci/" data-tooltip="Ngxtop Gercek Zamanlı Nginx Log Monitorleme Aracı" aria-label="NEXT: Ngxtop Gercek Zamanlı Nginx Log Monitorleme Aracı">
          
              <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
  
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="Back to top">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


      </div>
      

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-times"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.gravatar.com/avatar/d5d65b23744b836690ba8e789bbf1656?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Gökhan MANKARA</h4>
    
      <div id="about-card-bio">Golang, Python, Blogger, Linux Fan</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Software Developer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker-alt"></i>
        <br/>
        Turkey/Istanbul
      </div>
    
  </div>
</div>

    

    
  
    
      
      <div id="cover" style="background-image:url('https://www.gokhanmankara.com/images/cover.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js" integrity="sha512-z+/WWfyD5tccCukM4VvONpEtLmbAm5LDu7eKiyMQJ9m7OfPEDL7gENyDRL3Yfe8XAuGsS2fS4xSMnl6d30kqGQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script src="https://www.gokhanmankara.com/js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>




    
  </body>
</html>

